# å®Ÿè£…é€²æ—çŠ¶æ³

## ç¾åœ¨ã®ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹

**ãƒ–ãƒ©ãƒ³ãƒ**: `feature/setup-project`  
**ãƒ•ã‚§ãƒ¼ã‚º**: Phase 1ï¼ˆMVP v0.5 - ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼æ©Ÿèƒ½ï¼‰  
**æœ€çµ‚æ›´æ–°**: 2025-11-16

---

## âœ… å®Œäº†ã—ãŸä½œæ¥­

### Phase 1-1: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåŸºç›¤æ§‹ç¯‰ï¼ˆå®Œäº†ï¼‰

#### Next.jsãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
- [x] pnpm ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
- [x] Next.js 16.0.3 ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
- [x] TypeScript 5.9.3 è¨­å®š
- [x] Tailwind CSS v4 è¨­å®š
- [x] ESLint è¨­å®š
- [x] App Router æ§‹æˆ
- [x] src/ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ 
- [x] Import alias (@/*) è¨­å®š

#### shadcn/ui ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
- [x] shadcn/ui åˆæœŸåŒ–ï¼ˆNew York ã‚¹ã‚¿ã‚¤ãƒ«ï¼‰
- [x] UIã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¿½åŠ ï¼ˆbutton, input, card, form, select, labelï¼‰

#### ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
- [x] React Hook Form (v7.66.0)
- [x] Zod (v4.1.12)
- [x] @hookform/resolvers (v5.2.2)

#### ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹é€ æ•´å‚™
- [x] features/simulator/ui & lib/
- [x] shared/ui, lib, config/
- [x] types/
- [x] entities/
- [x] app/simulator/

### Phase 1-2: å®šæ•°ãƒ»ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³æº–å‚™ï¼ˆå®Œäº†ï¼‰

#### éƒ½é“åºœçœŒãƒã‚¹ã‚¿ãƒ¼ãƒ‡ãƒ¼ã‚¿
- [x] `src/shared/config/prefectures.ts` ä½œæˆ
  - 47éƒ½é“åºœçœŒã®å®šç¾©
  - Prefectureå‹ã®ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ

#### ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³Zodã‚¹ã‚­ãƒ¼ãƒ
- [x] `src/features/simulator/lib/simulatorSchema.ts` ä½œæˆ
  - annualIncome: 100ä¸‡ã€œ3000ä¸‡å††
  - hasSpouse: boolean
  - dependentsCount: 0ã€œ10äºº
  - prefecture: optional
  - SimulatorInputå‹ã€SimulatorResultå‹ã®å®šç¾©
  - Zod v4å¯¾å¿œï¼ˆmessageãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ä½¿ç”¨ï¼‰

#### ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³è¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯
- [x] `src/features/simulator/lib/calculateLimit.ts` ä½œæˆ
  - `estimateLimitYen()`: æ¨å®šä¸Šé™é¡è¨ˆç®—
    - åŸºæœ¬ä¿‚æ•°10%ã€é…å¶è€…-1%ã€æ‰¶é¤Šå®¶æ—-0.5%/äºº
    - ä¸‹é™5%ã€ä¸Šä¸‹é™2,000ã€œ500,000å††
  - `calculateSafeLimit()`: å®‰å…¨ãƒ©ã‚¤ãƒ³è¨ˆç®—ï¼ˆ80%ï¼‰
  - `simulateLimit()`: å®Œå…¨ãªçµæœç”Ÿæˆ
  - å‰ææ¡ä»¶ãƒ»æ³¨æ„äº‹é …ã®ç”Ÿæˆ

#### å‹å®šç¾©ãƒ•ã‚¡ã‚¤ãƒ«
- [x] `src/types/index.ts` ä½œæˆ
  - ApiResponseå‹
  - Paginationå‹
  - SortOrderå‹
  - DateRangeå‹
  - LoadingStateå‹

---

## ğŸš§ é€²è¡Œä¸­ã®ä½œæ¥­

ãªã—ï¼ˆPhase 1-2å®Œäº†ï¼‰

---

## ğŸ“‹ æ¬¡ã®ã‚¿ã‚¹ã‚¯ï¼ˆPhase 1-3: ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½å®Ÿè£…ï¼‰

### 1. SimulatorFormã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½œæˆ
- [ ] `src/features/simulator/ui/SimulatorForm.tsx`
  - React Hook Formå®Ÿè£…
  - Zodãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³çµ±åˆ
  - å¹´åå…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰
  - é…å¶è€…æœ‰ç„¡é¸æŠ
  - æ‰¶é¤Šå®¶æ—æ•°å…¥åŠ›
  - éƒ½é“åºœçœŒé¸æŠï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
  - é€ä¿¡ãƒœã‚¿ãƒ³

### 2. SimulatorResultã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½œæˆ
- [ ] `src/features/simulator/ui/SimulatorResult.tsx`
  - æ¨å®šä¸Šé™é¡è¡¨ç¤º
  - å®‰å…¨ãƒ©ã‚¤ãƒ³è¡¨ç¤º
  - å‰ææ¡ä»¶ãƒ»æ³¨æ„äº‹é …è¡¨ç¤º
  - ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³

### 3. ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ãƒšãƒ¼ã‚¸å®Ÿè£…
- [ ] `src/app/simulator/page.tsx`
  - ãƒšãƒ¼ã‚¸ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
  - SimulatorFormã¨SimulatorResultçµ±åˆ
  - ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿è¨­å®š

### 4. ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°
- [ ] ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ
- [ ] ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£å¯¾å¿œ

---

## ğŸ“Š Phase 1ï¼ˆMVP v0.5ï¼‰å…¨ä½“ã®é€²æ—

| ã‚µãƒ–ãƒ•ã‚§ãƒ¼ã‚º | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ | æ¨å®šæ™‚é–“ | å®Ÿç¸¾æ™‚é–“ |
|------------|----------|---------|---------|
| 1-1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåŸºç›¤æ§‹ç¯‰ | ğŸŸ¢ å®Œäº† | 2-3æ™‚é–“ | 1æ™‚é–“ |
| 1-2. å®šæ•°ãƒ»ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ | ğŸŸ¢ å®Œäº† | 1æ™‚é–“ | 0.5æ™‚é–“ |
| 1-3. ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½ | âšª æœªç€æ‰‹ | 3-4æ™‚é–“ | - |
| 1-4. ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒšãƒ¼ã‚¸ | âšª æœªç€æ‰‹ | 2-3æ™‚é–“ | - |
| 1-5. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚° | âšª æœªç€æ‰‹ | 1-2æ™‚é–“ | - |

**å‡¡ä¾‹**: ğŸŸ¢ å®Œäº† | ğŸŸ¡ é€²è¡Œä¸­ | âšª æœªç€æ‰‹

**é€²æ—ç‡**: Phase 1-2 å®Œäº†ï¼ˆç´„30%ï¼‰

---

## ğŸ¯ ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³

### ãƒã‚¤ãƒ«ã‚¹ãƒˆãƒ¼ãƒ³ 1: MVP v0.5ï¼ˆç›®æ¨™ï¼‰
- ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼æ©Ÿèƒ½å®Œæˆ
- ãƒ©ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ãƒšãƒ¼ã‚¸å®Œæˆ
- ãƒ‡ãƒ—ãƒ­ã‚¤å¯èƒ½ãªçŠ¶æ…‹

### é”æˆåŸºæº–
- [ ] `/simulator` ã§æ§é™¤é¡ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ãŒå‹•ä½œ
- [ ] ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°å®Ÿè£…
- [ ] Vercel ãƒ‡ãƒ—ãƒ­ã‚¤å¯èƒ½

---

## ğŸ“‚ ä½œæˆã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«

### Phase 1-1
- `src/components/ui/button.tsx`
- `src/components/ui/input.tsx`
- `src/components/ui/card.tsx`
- `src/components/ui/form.tsx`
- `src/components/ui/select.tsx`
- `src/components/ui/label.tsx`
- `src/lib/utils.ts`

### Phase 1-2
- `src/shared/config/prefectures.ts`
- `src/features/simulator/lib/simulatorSchema.ts`
- `src/features/simulator/lib/calculateLimit.ts`
- `src/types/index.ts`

---

## ğŸ’¡ å­¦ã‚“ã ã“ã¨ãƒ»æŠ€è¡“ãƒ¡ãƒ¢

### Zod v4ã®å¤‰æ›´ç‚¹
- ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®æŒ‡å®šæ–¹æ³•ãŒå¤‰æ›´
- `required_error`, `invalid_type_error` â†’ `message` ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿
- å„ãƒ¡ã‚½ãƒƒãƒ‰ï¼ˆ`.min()`, `.max()`, `.int()` ç­‰ï¼‰ã§ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã¨ã—ã¦ `{ message: "..." }` ã‚’æŒ‡å®š

### shadcn/uié…ç½®
- `src/components/ui/` ã‚’ä½¿ç”¨ï¼ˆæ¨™æº–ï¼‰
- ã‚«ã‚¹ã‚¿ãƒ å…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ `src/shared/ui/` ã«é…ç½®äºˆå®š

---

## ğŸ“ ãƒ¡ãƒ¢ãƒ»èª²é¡Œ

### æŠ€è¡“çš„ãªæ±ºå®šäº‹é …
- Tailwind CSS v4 ã‚’ä½¿ç”¨
- React 19 ã‚’ä½¿ç”¨
- Zod v4 ã‚’ä½¿ç”¨ï¼ˆã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸APIã«æ³¨æ„ï¼‰
- React Compiler ã¯ä¸ä½¿ç”¨

### ä»Šå¾Œã®æ¤œè¨äº‹é …
- Vitest ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆè¨ˆç®—ãƒ­ã‚¸ãƒƒã‚¯ã®ãƒ†ã‚¹ãƒˆï¼‰
- Prettier å°å…¥æ¤œè¨
- ESLint ãƒ«ãƒ¼ãƒ«ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

---

## âœ… Gitã‚³ãƒŸãƒƒãƒˆå±¥æ­´

1. `d760410` - Add Serena project configuration and design documentation
2. `7be22d5` - feat: initialize Next.js project with TypeScript and Tailwind CSS
3. `133c28c` - feat: setup shadcn/ui and project directory structure
4. `430e016` - feat: add validation schemas and business logic for simulator

---

## ğŸ”— é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- è¨­è¨ˆä»•æ§˜: `development_roadmap.md`
- ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£: `frontend_architecture.md`
- æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯: `tech_stack.md`, `technical_decisions.md`
- ãƒ“ã‚¸ãƒã‚¹ãƒ«ãƒ¼ãƒ«: `business_rules.md`

---

## ğŸš€ æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³

**Phase 1-3: ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³æ©Ÿèƒ½å®Ÿè£…** ã‚’é–‹å§‹

1. SimulatorFormã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½œæˆ
2. SimulatorResultã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆä½œæˆ
3. ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚¿ãƒ¼ãƒšãƒ¼ã‚¸å®Ÿè£…
4. ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚°ãƒ»ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ
